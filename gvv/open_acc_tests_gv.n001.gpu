#include "cuda_runtime.h"
#include "pgi_cuda_runtime.h"
#include "open_acc_tests_gv.n001.h"
extern "C" __global__ __launch_bounds__(128) void
_Z6calcIqPKdS0_iidi_61_gpu(
    int tc1,
    int tc2,
    int tc3,
    signed char* p14/* Iq */,
    signed char* p15/* gv */,
    signed char* p16/* coor */,
    signed char* p17/* B */,
    int x1/* Natoms */,
    int x2/* Ngv */,
    double x4/* dQ */)
{
int _i_1, _i_2;
double _d_1, _d_2, _d_3;
signed char* _p_1;
double x9/* Iimag */;
double x10/* Ireal */;
double x11/* qz */;
double x12/* qy */;
double x13/* qx */;
extern  __shared__ double S37[];
signed char* rb38;
int i40i;
int i41i;
double r44;
double r45;
signed char* rb46;
int rc16;
int rc17;
double* rb51;
double* rb52;
int j154;
int j152;
int j150;
int j143;
int j134;
int et147;
int et148;
double et21;
double et26;
long long et30;
signed char* et31;
double et32;
double et33;
long long et37;
signed char* et38;
double et39;
double et40;
int et149;
long long et180;
signed char* et181;
__shared__ double e84;
__shared__ double e85;
__shared__ double e86;
__shared__ long long e87;
rb38 = (signed char*)(&S37);
j154 = 0;
_i_1 = ((int)blockDim.x)-(1);
et147 = (_i_1)|((int)(_i_1)>>(1));
et148 = (int)(et147)>>(2);
et149 = (et147)|(et148);
_BB_20: ;
i40i = ((int)blockIdx.x)+(j154);
if( (((((int)blockIdx.x)-(tc3))+(j154))>=0)) goto _BB_26;
i41i = 0;
if( ((i41i)>=(tc2)))  goto _BB_82;
j134 = -(tc2);
j152 = 0;
et180 = (long long)((i40i)*(8));
_p_1 = (signed char*)((p14/* Iq */)+(et180));
et181 = ( signed char*)_p_1;
_BB_35: ;
et21 = (*( double*)((p15/* gv */)+((long long)(j152))));
_d_1 = (x4/* dQ */)*((double)(i40i));
et26 = (et21)*(_d_1);
et30 = (long long)(((x2/* Ngv */)*(8))+(j152));
et31 = (p15/* gv */)+(et30);
et32 = (*( double*)(et31));
et33 = (_d_1)*(et32);
et37 = (long long)(((x2/* Ngv */)*(16))+(j152));
et38 = (p15/* gv */)+(et37);
et39 = (*( double*)(et38));
et40 = (_d_1)*(et39);
if( (((int)threadIdx.x)!=0)) goto _BB_52;
x13/* qx */ = et26;
x12/* qy */ = et33;
x11/* qz */ = et40;
x10/* Ireal */ = (0.00000000000000000E+0);
x9/* Iimag */ = (0.00000000000000000E+0);
e84 = x11/* qz */;
e85 = x12/* qy */;
e86 = x13/* qx */;
__threadfence_block();
_BB_52: ;
__syncthreads();
x11/* qz */ = e84;
x12/* qy */ = e85;
x13/* qx */ = e86;
__syncthreads();
r44 = (0.00000000000000000E+0);
r45 = (0.00000000000000000E+0);
rb46 = rb38;
j143 = 0;
j150 = 0;
if( (((tc1)+(-256))<(3)))  goto _BB_48;
_BB_10: ;
if( (((((int)threadIdx.x)-(tc1))+(j143))>=0)) goto _BB_22;
_i_1 = ((int)threadIdx.x)*(8);
_i_2 = (_i_1)+(j150);
sincos( __fma_rn((*( double*)((p16/* coor */)+((long long)((((x1/* Natoms */)*(16))+(_i_1))+(j150))))),x11/* qz */,__fma_rn((*( double*)((p16/* coor */)+((long long)((((x1/* Natoms */)+((int)threadIdx.x))*(8))+(j150))))),x12/* qy */,(*( double*)((p16/* coor */)+((long long)(_i_2))))*(x13/* qx */))), &_d_1, &_d_2 );
_d_3 = (*( double*)((p17/* B */)+((long long)(_i_2))));
r45 = __fma_rn(_d_1,_d_3,r45);
r44 = __fma_rn(_d_3,_d_2,r44);
_BB_22: ;
if( ((((((int)threadIdx.x)-(tc1))+(j143))+(128))>=0)) goto _BB_73;
_i_1 = ((int)threadIdx.x)*(8);
_i_2 = ((_i_1)+(j150))+(1024);
sincos( __fma_rn((*( double*)((p16/* coor */)+((long long)(((((x1/* Natoms */)*(16))+(_i_1))+(j150))+(1024))))),x11/* qz */,__fma_rn((*( double*)((p16/* coor */)+((long long)(((((x1/* Natoms */)+((int)threadIdx.x))*(8))+(j150))+(1024))))),x12/* qy */,(*( double*)((p16/* coor */)+((long long)(_i_2))))*(x13/* qx */))), &_d_1, &_d_2 );
_d_3 = (*( double*)((p17/* B */)+((long long)(_i_2))));
r45 = __fma_rn(_d_1,_d_3,r45);
r44 = __fma_rn(_d_3,_d_2,r44);
_BB_73: ;
if( ((((((int)threadIdx.x)-(tc1))+(j143))+(256))>=0)) goto _BB_43;
_i_1 = ((int)threadIdx.x)*(8);
_i_2 = ((_i_1)+(j150))+(2048);
sincos( __fma_rn((*( double*)((p16/* coor */)+((long long)(((((x1/* Natoms */)*(16))+(_i_1))+(j150))+(2048))))),x11/* qz */,__fma_rn((*( double*)((p16/* coor */)+((long long)(((((x1/* Natoms */)+((int)threadIdx.x))*(8))+(j150))+(2048))))),x12/* qy */,(*( double*)((p16/* coor */)+((long long)(_i_2))))*(x13/* qx */))), &_d_1, &_d_2 );
_d_3 = (*( double*)((p17/* B */)+((long long)(_i_2))));
r45 = __fma_rn(_d_1,_d_3,r45);
r44 = __fma_rn(_d_3,_d_2,r44);
_BB_43: ;
j143 = (j143)+(384);
j150 = (j150)+(3072);
if( ((((j143)-(tc1))+(2))<0)) goto _BB_10;
if( (((j143)-(tc1))>=0)) goto _BB_55;
_BB_48: ;
if( (((((int)threadIdx.x)-(tc1))+(j143))>=0)) goto _BB_51;
_i_1 = ((int)threadIdx.x)*(8);
_i_2 = (_i_1)+(j150);
sincos( __fma_rn((*( double*)((p16/* coor */)+((long long)((((x1/* Natoms */)*(16))+(_i_1))+(j150))))),x11/* qz */,__fma_rn((*( double*)((p16/* coor */)+((long long)((((x1/* Natoms */)+((int)threadIdx.x))*(8))+(j150))))),x12/* qy */,(*( double*)((p16/* coor */)+((long long)(_i_2))))*(x13/* qx */))), &_d_1, &_d_2 );
_d_3 = (*( double*)((p17/* B */)+((long long)(_i_2))));
r45 = __fma_rn(_d_1,_d_3,r45);
r44 = __fma_rn(_d_3,_d_2,r44);
_BB_51: ;
j143 = (j143)+(128);
j150 = (j150)+(1024);
if( (((j143)-(tc1))<0)) goto _BB_48;
_BB_55: ;
_p_1 = (signed char*)(((double*)(rb38))+((long long)((int)threadIdx.x)));
rb51 = ( double*)(( double*)_p_1);
*( double*)(( double*)_p_1) = r44;
rc16 = et147;
rc16 = et149;
rc16 = (rc16)|((int)(rc16)>>(4));
rc16 = (rc16)|((int)(rc16)>>(8));
rc16 = (rc16)+(1);
rc17 = rc16;
__syncthreads();
_BB_56: ;
if( ((rc16)<=(1)))  goto _BB_42;
__syncthreads();
rc16 = (int)((rc16)+(1))>>(1);
if( (((((int)threadIdx.x)+(rc16))-(rc17))>=0)) goto _BB_59;
*( double*)(rb51) = (*( double*)(rb51))+(*( double*)((rb51)+((long long)(rc16))));
_BB_59: ;
rc17 = rc16;
goto _BB_56;
_BB_42: ;
if( (((int)threadIdx.x)!=0)) goto _BB_62;
x10/* Ireal */ = (x10/* Ireal */)+(*( double*)(rb51));
_BB_62: ;
_p_1 = (signed char*)(((double*)(rb46))+((long long)((int)threadIdx.x)));
rb52 = ( double*)(( double*)_p_1);
*( double*)(( double*)_p_1) = r45;
rc16 = et147;
rc16 = et149;
rc16 = (rc16)|((int)(rc16)>>(4));
rc16 = (rc16)|((int)(rc16)>>(8));
rc16 = (rc16)+(1);
rc17 = rc16;
__syncthreads();
_BB_63: ;
if( ((rc16)<=(1)))  goto _BB_70;
__syncthreads();
rc16 = (int)((rc16)+(1))>>(1);
if( (((((int)threadIdx.x)+(rc16))-(rc17))>=0)) goto _BB_66;
*( double*)(rb52) = (*( double*)(rb52))+(*( double*)((rb52)+((long long)(rc16))));
_BB_66: ;
rc17 = rc16;
goto _BB_63;
_BB_70: ;
if( (((int)threadIdx.x)!=0)) goto _BB_71;
x9/* Iimag */ = (x9/* Iimag */)+(*( double*)(rb52));
_BB_71: ;
__syncthreads();
if( (((int)threadIdx.x)!=0)) goto _BB_36;
*( double*)(et181) = __fma_rn(x9/* Iimag */,x9/* Iimag */,__fma_rn(x10/* Ireal */,x10/* Ireal */,(*( double*)(et181))));
_BB_36: ;
j134 = (j134)+(1);
j152 = (j152)+(8);
if( ((j134)<0)) goto _BB_35;
_BB_82: ;
if( (((int)threadIdx.x)!=0)) goto _BB_47;
et180 = (long long)((i40i)*(8));
_p_1 = (signed char*)((p14/* Iq */)+(et180));
et181 = ( signed char*)_p_1;
*( double*)(et181) = (*( double*)(et181))/((double)(x2/* Ngv */));
e87 = et180;
__threadfence_block();
_BB_47: ;
__syncthreads();
et180 = e87;
_BB_26: ;
j154 = (j154)+((int)gridDim.x);
if( (((j154)-(tc3))<0)) goto _BB_20;
}
